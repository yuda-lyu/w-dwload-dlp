/*!
 * w-dwload-dlp v1.0.2
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("path"),require("process"),require("child_process"),require("fs")):"function"==typeof define&&define.amd?define(["path","process","child_process","fs"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-dwload-dlp"]=e(t.path,t.process,t.child_process,t.fs)}(this,(function(t,e,r,n){"use strict";var o=Array.isArray,u="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,a=u||i||Function("return this")(),c=a.Symbol,s=Object.prototype,f=s.hasOwnProperty,l=s.toString,h=c?c.toStringTag:void 0;var d=Object.prototype.toString;var p="[object Null]",v="[object Undefined]",y=c?c.toStringTag:void 0;function b(t){return null==t?void 0===t?v:p:y&&y in Object(t)?function(t){var e=f.call(t,h),r=t[h];try{t[h]=void 0;var n=!0}catch(t){}var o=l.call(t);return n&&(e?t[h]=r:delete t[h]),o}(t):function(t){return d.call(t)}(t)}function g(t){return null!=t&&"object"==typeof t}var _="[object Symbol]";function j(t){return"symbol"==typeof t||g(t)&&b(t)==_}var $=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;function w(t,e){if(o(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!j(t))||(m.test(t)||!$.test(t)||null!=e&&t in Object(e))}function O(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var S="[object AsyncFunction]",M="[object Function]",D="[object GeneratorFunction]",x="[object Proxy]";function A(t){if(!O(t))return!1;var e=b(t);return e==M||e==D||e==S||e==x}var k,z=a["__core-js_shared__"],P=(k=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";var T=Function.prototype.toString;function F(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Y=/^\[object .+?Constructor\]$/,E=Function.prototype,L=Object.prototype,H=E.toString,N=L.hasOwnProperty,C=RegExp("^"+H.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I(t){return!(!O(t)||(e=t,P&&P in e))&&(A(t)?C:Y).test(F(t));var e}function W(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return I(r)?r:void 0}var U=W(Object,"create");var B=Object.prototype.hasOwnProperty;var q=Object.prototype.hasOwnProperty;function V(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function R(t,e){return t===e||t!=t&&e!=e}function J(t,e){for(var r=t.length;r--;)if(R(t[r][0],e))return r;return-1}V.prototype.clear=function(){this.__data__=U?U(null):{},this.size=0},V.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},V.prototype.get=function(t){var e=this.__data__;if(U){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return B.call(e,t)?e[t]:void 0},V.prototype.has=function(t){var e=this.__data__;return U?void 0!==e[t]:q.call(e,t)},V.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=U&&void 0===e?"__lodash_hash_undefined__":e,this};var Z=Array.prototype.splice;function G(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}G.prototype.clear=function(){this.__data__=[],this.size=0},G.prototype.delete=function(t){var e=this.__data__,r=J(e,t);return!(r<0)&&(r==e.length-1?e.pop():Z.call(e,r,1),--this.size,!0)},G.prototype.get=function(t){var e=this.__data__,r=J(e,t);return r<0?void 0:e[r][1]},G.prototype.has=function(t){return J(this.__data__,t)>-1},G.prototype.set=function(t,e){var r=this.__data__,n=J(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Q=W(a,"Map");function K(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function X(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}X.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(Q||G),string:new V}},X.prototype.delete=function(t){var e=K(this,t).delete(t);return this.size-=e?1:0,e},X.prototype.get=function(t){return K(this,t).get(t)},X.prototype.has=function(t){return K(this,t).has(t)},X.prototype.set=function(t,e){var r=K(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var tt="Expected a function";function et(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(tt);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],u=r.cache;if(u.has(o))return u.get(o);var i=t.apply(this,n);return r.cache=u.set(o,i)||u,i};return r.cache=new(et.Cache||X),r}et.Cache=X;var rt,nt,ot,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/\\(\\)?/g,at=(rt=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ut,(function(t,r,n,o){e.push(n?o.replace(it,"$1"):r||t)})),e},nt=et(rt,(function(t){return 500===ot.size&&ot.clear(),t})),ot=nt.cache,nt),ct=at;function st(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var ft=1/0,lt=c?c.prototype:void 0,ht=lt?lt.toString:void 0;function dt(t){if("string"==typeof t)return t;if(o(t))return st(t,dt)+"";if(j(t))return ht?ht.call(t):"";var e=t+"";return"0"==e&&1/t==-ft?"-0":e}function pt(t){return null==t?"":dt(t)}function vt(t,e){return o(t)?t:w(t,e)?[t]:ct(pt(t))}var yt=1/0;function bt(t){if("string"==typeof t||j(t))return t;var e=t+"";return"0"==e&&1/t==-yt?"-0":e}function gt(t,e){for(var r=0,n=(e=vt(e,t)).length;null!=t&&r<n;)t=t[bt(e[r++])];return r&&r==n?t:void 0}function _t(t,e,r){var n=null==t?void 0:gt(t,e);return void 0===n?r:n}var jt=/\s/;var $t=/^\s+/;function mt(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&jt.test(t.charAt(e)););return e}(t)+1).replace($t,""):t}var wt=NaN,Ot=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,Mt=/^0o[0-7]+$/i,Dt=parseInt;function xt(t){if("number"==typeof t)return t;if(j(t))return wt;if(O(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=O(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=mt(t);var r=St.test(t);return r||Mt.test(t)?Dt(t.slice(2),r?2:8):Ot.test(t)?wt:+t}var At=1/0,kt=17976931348623157e292;function zt(t){return t?(t=xt(t))===At||t===-At?(t<0?-1:1)*kt:t==t?t:0:0===t?t:0}function Pt(t){var e=zt(t),r=e%1;return e==e?r?e-r:e:0}function Tt(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function Ft(t){let e=!1;if(Tt(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(function(t){return t!=t}(t))return!1;e=!0}return e}function Yt(t){if(!Ft(t))return 0;return zt(t)}function Et(t){return!!Ft(t)&&(t=Yt(t),"number"==typeof(e=t)&&e==Pt(e));var e}var Lt=a.isFinite,Ht=Math.min;var Nt=function(t){var e=Math[t];return function(t,r){if(t=xt(t),(r=null==r?0:Ht(Pt(r),292))&&Lt(t)){var n=(pt(t)+"e").split("e");return+((n=(pt(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("round"),Ct=Nt;function It(t){if(!Ft(t))return 0;t=Yt(t);let e=Ct(t);return"0"===String(e)?0:e}let Wt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Ut=Wt.length;function Bt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];var r;t=Et(r=t)&&It(r)>0?It(t):32;for(let r=0;r<t;r++)e[r]=Wt[0|Math.random()*Ut];return e.join("")}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vt={exports:{}};!function(t,e){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",u="minute",i="hour",a="day",c="week",s="month",f="quarter",l="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},b=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},g={s:b,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+b(n,2,"0")+":"+b(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,s),u=r-o<0,i=e.clone().add(n+(u?-1:1),s);return+(-(n+(r-o)/(u?o-i:i-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:c,d:a,D:h,h:i,m:u,s:o,ms:n,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_="en",j={};j[_]=y;var $="$isDayjsObject",m=function(t){return t instanceof M||!(!t||!t[$])},w=function t(e,r,n){var o;if(!e)return _;if("string"==typeof e){var u=e.toLowerCase();j[u]&&(o=u),r&&(j[u]=r,o=u);var i=e.split("-");if(!o&&i.length>1)return t(i[0])}else{var a=e.name;j[a]=e,o=a}return!n&&o&&(_=o),o||!n&&_},O=function(t,e){if(m(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new M(r)},S=g;S.l=w,S.i=m,S.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function y(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[$]=!0}var b=y.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var o=n[2]-1||0,u=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,u)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,u)}}return new Date(e)}(t),this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return!(this.$d.toString()===d)},b.isSame=function(t,e){var r=O(t);return this.startOf(e)<=r&&r<=this.endOf(e)},b.isAfter=function(t,e){return O(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<O(t)},b.$g=function(t,e,r){return S.u(t)?this[e]:this.set(r,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var r=this,n=!!S.u(e)||e,f=S.p(t),d=function(t,e){var o=S.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?o:o.endOf(a)},p=function(t,e){return S.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},v=this.$W,y=this.$M,b=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case l:return n?d(1,0):d(31,11);case s:return n?d(1,y):d(0,y+1);case c:var _=this.$locale().weekStart||0,j=(v<_?v+7:v)-_;return d(n?b-j:b+(6-j),y);case a:case h:return p(g+"Hours",0);case i:return p(g+"Minutes",1);case u:return p(g+"Seconds",2);case o:return p(g+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var r,c=S.p(t),f="set"+(this.$u?"UTC":""),d=(r={},r[a]=f+"Date",r[h]=f+"Date",r[s]=f+"Month",r[l]=f+"FullYear",r[i]=f+"Hours",r[u]=f+"Minutes",r[o]=f+"Seconds",r[n]=f+"Milliseconds",r)[c],p=c===a?this.$D+(e-this.$W):e;if(c===s||c===l){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[S.p(t)]()},b.add=function(n,f){var h,d=this;n=Number(n);var p=S.p(f),v=function(t){var e=O(d);return S.w(e.date(e.date()+Math.round(t*n)),d)};if(p===s)return this.set(s,this.$M+n);if(p===l)return this.set(l,this.$y+n);if(p===a)return v(1);if(p===c)return v(7);var y=(h={},h[u]=e,h[i]=r,h[o]=t,h)[p]||1,b=this.$d.getTime()+n*y;return S.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),u=this.$H,i=this.$m,a=this.$M,c=r.weekdays,s=r.months,f=r.meridiem,l=function(t,r,o,u){return t&&(t[r]||t(e,n))||o[r].slice(0,u)},h=function(t){return S.s(u%12||12,t,"0")},p=f||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(v,(function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return S.s(e.$y,4,"0");case"M":return a+1;case"MM":return S.s(a+1,2,"0");case"MMM":return l(r.monthsShort,a,s,3);case"MMMM":return l(s,a);case"D":return e.$D;case"DD":return S.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return l(r.weekdaysMin,e.$W,c,2);case"ddd":return l(r.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(u);case"HH":return S.s(u,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(u,i,!0);case"A":return p(u,i,!1);case"m":return String(i);case"mm":return S.s(i,2,"0");case"s":return String(e.$s);case"ss":return S.s(e.$s,2,"0");case"SSS":return S.s(e.$ms,3,"0");case"Z":return o}return null}(t)||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,h,d){var p,v=this,y=S.p(h),b=O(n),g=(b.utcOffset()-this.utcOffset())*e,_=this-b,j=function(){return S.m(v,b)};switch(y){case l:p=j()/12;break;case s:p=j();break;case f:p=j()/3;break;case c:p=(_-g)/6048e5;break;case a:p=(_-g)/864e5;break;case i:p=_/r;break;case u:p=_/e;break;case o:p=_/t;break;default:p=_}return d?p:S.a(p)},b.daysInMonth=function(){return this.endOf(s).$D},b.$locale=function(){return j[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=w(t,e,!0);return n&&(r.$L=n),r},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),D=M.prototype;return O.prototype=D,[["$ms",n],["$s",o],["$m",u],["$H",i],["$W",a],["$M",s],["$y",l],["$D",h]].forEach((function(t){D[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,M,O),t.$i=!0),O},O.locale=w,O.isDayjs=m,O.unix=function(t){return O(1e3*t)},O.en=j[_],O.Ls=j,O.p={},O}()}(Vt);var Rt=qt(Vt.exports);function Jt(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function Zt(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var Gt,Qt=function(t,e,r){for(var n=-1,o=Object(t),u=r(t),i=u.length;i--;){var a=u[Gt?i:++n];if(!1===e(o[a],a,o))break}return t};function Kt(t){return g(t)&&"[object Arguments]"==b(t)}var Xt=Object.prototype,te=Xt.hasOwnProperty,ee=Xt.propertyIsEnumerable,re=Kt(function(){return arguments}())?Kt:function(t){return g(t)&&te.call(t,"callee")&&!ee.call(t,"callee")},ne=re;var oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ue=oe&&"object"==typeof module&&module&&!module.nodeType&&module,ie=ue&&ue.exports===oe?a.Buffer:void 0,ae=(ie?ie.isBuffer:void 0)||function(){return!1},ce=9007199254740991,se=/^(?:0|[1-9]\d*)$/;function fe(t,e){var r=typeof t;return!!(e=null==e?ce:e)&&("number"==r||"symbol"!=r&&se.test(t))&&t>-1&&t%1==0&&t<e}var le=9007199254740991;function he(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=le}var de={};de["[object Float32Array]"]=de["[object Float64Array]"]=de["[object Int8Array]"]=de["[object Int16Array]"]=de["[object Int32Array]"]=de["[object Uint8Array]"]=de["[object Uint8ClampedArray]"]=de["[object Uint16Array]"]=de["[object Uint32Array]"]=!0,de["[object Arguments]"]=de["[object Array]"]=de["[object ArrayBuffer]"]=de["[object Boolean]"]=de["[object DataView]"]=de["[object Date]"]=de["[object Error]"]=de["[object Function]"]=de["[object Map]"]=de["[object Number]"]=de["[object Object]"]=de["[object RegExp]"]=de["[object Set]"]=de["[object String]"]=de["[object WeakMap]"]=!1;var pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ve=pe&&"object"==typeof module&&module&&!module.nodeType&&module,ye=ve&&ve.exports===pe&&u.process,be=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch(t){}}(),ge=be&&be.isTypedArray,_e=ge?function(t){return function(e){return t(e)}}(ge):function(t){return g(t)&&he(t.length)&&!!de[b(t)]},je=_e,$e=Object.prototype.hasOwnProperty;function me(t,e){var r=o(t),n=!r&&ne(t),u=!r&&!n&&ae(t),i=!r&&!n&&!u&&je(t),a=r||n||u||i,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],s=c.length;for(var f in t)!e&&!$e.call(t,f)||a&&("length"==f||u&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||fe(f,s))||c.push(f);return c}var we=Object.prototype;var Oe=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Se=Oe,Me=Object.prototype.hasOwnProperty;function De(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||we))return Se(t);var e,r,n=[];for(var o in Object(t))Me.call(t,o)&&"constructor"!=o&&n.push(o);return n}function xe(t){return null!=t&&he(t.length)&&!A(t)}function Ae(t){return xe(t)?me(t):De(t)}var ke=function(t,e){return function(r,n){if(null==r)return r;if(!xe(r))return t(r,n);for(var o=r.length,u=e?o:-1,i=Object(r);(e?u--:++u<o)&&!1!==n(i[u],u,i););return r}}((function(t,e){return t&&Qt(t,e,Ae)})),ze=ke;function Pe(t){return t}function Te(t,e){var r;return(o(t)?Zt:ze)(t,"function"==typeof(r=e)?r:Pe)}function Fe(t){var e=this.__data__=new G(t);this.size=e.size}Fe.prototype.clear=function(){this.__data__=new G,this.size=0},Fe.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Fe.prototype.get=function(t){return this.__data__.get(t)},Fe.prototype.has=function(t){return this.__data__.has(t)},Fe.prototype.set=function(t,e){var r=this.__data__;if(r instanceof G){var n=r.__data__;if(!Q||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new X(n)}return r.set(t,e),this.size=r.size,this};function Ye(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new X;++e<r;)this.add(t[e])}function Ee(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Le(t,e){return t.has(e)}Ye.prototype.add=Ye.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ye.prototype.has=function(t){return this.__data__.has(t)};var He=1,Ne=2;function Ce(t,e,r,n,o,u){var i=r&He,a=t.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var s=u.get(t),f=u.get(e);if(s&&f)return s==e&&f==t;var l=-1,h=!0,d=r&Ne?new Ye:void 0;for(u.set(t,e),u.set(e,t);++l<a;){var p=t[l],v=e[l];if(n)var y=i?n(v,p,l,e,t,u):n(p,v,l,t,e,u);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!Ee(e,(function(t,e){if(!Le(d,e)&&(p===t||o(p,t,r,n,u)))return d.push(e)}))){h=!1;break}}else if(p!==v&&!o(p,v,r,n,u)){h=!1;break}}return u.delete(t),u.delete(e),h}var Ie=a.Uint8Array;function We(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Ue(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Be=1,qe=2,Ve="[object Boolean]",Re="[object Date]",Je="[object Error]",Ze="[object Map]",Ge="[object Number]",Qe="[object RegExp]",Ke="[object Set]",Xe="[object String]",tr="[object Symbol]",er="[object ArrayBuffer]",rr="[object DataView]",nr=c?c.prototype:void 0,or=nr?nr.valueOf:void 0;var ur=Object.prototype.propertyIsEnumerable,ir=Object.getOwnPropertySymbols,ar=ir?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,u=[];++r<n;){var i=t[r];e(i,r,t)&&(u[o++]=i)}return u}(ir(t),(function(e){return ur.call(t,e)})))}:function(){return[]},cr=ar;function sr(t){return function(t,e,r){var n=e(t);return o(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Ae,cr)}var fr=1,lr=Object.prototype.hasOwnProperty;var hr=W(a,"DataView"),dr=W(a,"Promise"),pr=W(a,"Set"),vr=W(a,"WeakMap"),yr="[object Map]",br="[object Promise]",gr="[object Set]",_r="[object WeakMap]",jr="[object DataView]",$r=F(hr),mr=F(Q),wr=F(dr),Or=F(pr),Sr=F(vr),Mr=b;(hr&&Mr(new hr(new ArrayBuffer(1)))!=jr||Q&&Mr(new Q)!=yr||dr&&Mr(dr.resolve())!=br||pr&&Mr(new pr)!=gr||vr&&Mr(new vr)!=_r)&&(Mr=function(t){var e=b(t),r="[object Object]"==e?t.constructor:void 0,n=r?F(r):"";if(n)switch(n){case $r:return jr;case mr:return yr;case wr:return br;case Or:return gr;case Sr:return _r}return e});var Dr=Mr,xr=1,Ar="[object Arguments]",kr="[object Array]",zr="[object Object]",Pr=Object.prototype.hasOwnProperty;function Tr(t,e,r,n,u,i){var a=o(t),c=o(e),s=a?kr:Dr(t),f=c?kr:Dr(e),l=(s=s==Ar?zr:s)==zr,h=(f=f==Ar?zr:f)==zr,d=s==f;if(d&&ae(t)){if(!ae(e))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new Fe),a||je(t)?Ce(t,e,r,n,u,i):function(t,e,r,n,o,u,i){switch(r){case rr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case er:return!(t.byteLength!=e.byteLength||!u(new Ie(t),new Ie(e)));case Ve:case Re:case Ge:return R(+t,+e);case Je:return t.name==e.name&&t.message==e.message;case Qe:case Xe:return t==e+"";case Ze:var a=We;case Ke:var c=n&Be;if(a||(a=Ue),t.size!=e.size&&!c)return!1;var s=i.get(t);if(s)return s==e;n|=qe,i.set(t,e);var f=Ce(a(t),a(e),n,o,u,i);return i.delete(t),f;case tr:if(or)return or.call(t)==or.call(e)}return!1}(t,e,s,r,n,u,i);if(!(r&xr)){var p=l&&Pr.call(t,"__wrapped__"),v=h&&Pr.call(e,"__wrapped__");if(p||v){var y=p?t.value():t,b=v?e.value():e;return i||(i=new Fe),u(y,b,r,n,i)}}return!!d&&(i||(i=new Fe),function(t,e,r,n,o,u){var i=r&fr,a=sr(t),c=a.length;if(c!=sr(e).length&&!i)return!1;for(var s=c;s--;){var f=a[s];if(!(i?f in e:lr.call(e,f)))return!1}var l=u.get(t),h=u.get(e);if(l&&h)return l==e&&h==t;var d=!0;u.set(t,e),u.set(e,t);for(var p=i;++s<c;){var v=t[f=a[s]],y=e[f];if(n)var b=i?n(y,v,f,e,t,u):n(v,y,f,t,e,u);if(!(void 0===b?v===y||o(v,y,r,n,u):b)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var g=t.constructor,_=e.constructor;g==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(d=!1)}return u.delete(t),u.delete(e),d}(t,e,r,n,u,i))}function Fr(t,e,r,n,o){return t===e||(null==t||null==e||!g(t)&&!g(e)?t!=t&&e!=e:Tr(t,e,r,n,Fr,o))}var Yr=1,Er=2;function Lr(t){return t==t&&!O(t)}function Hr(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function Nr(t){var e=function(t){for(var e=Ae(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Lr(o)]}return e}(t);return 1==e.length&&e[0][2]?Hr(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,u=o,i=!n;if(null==t)return!u;for(t=Object(t);o--;){var a=r[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var c=(a=r[o])[0],s=t[c],f=a[1];if(i&&a[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Fe;if(n)var h=n(s,f,c,t,e,l);if(!(void 0===h?Fr(f,s,Yr|Er,n,l):h))return!1}}return!0}(r,t,e)}}function Cr(t,e){return null!=t&&e in Object(t)}function Ir(t,e){return null!=t&&function(t,e,r){for(var n=-1,u=(e=vt(e,t)).length,i=!1;++n<u;){var a=bt(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=u?i:!!(u=null==t?0:t.length)&&he(u)&&fe(a,u)&&(o(t)||ne(t))}(t,e,Cr)}var Wr=1,Ur=2;function Br(t){return w(t)?(e=bt(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return gt(e,t)}}(t);var e}function qr(t){return"function"==typeof t?t:null==t?Pe:"object"==typeof t?o(t)?function(t,e){return w(t)&&Lr(e)?Hr(bt(t),e):function(r){var n=_t(r,t);return void 0===n&&n===e?Ir(r,t):Fr(e,n,Wr|Ur)}}(t[0],t[1]):Nr(t):Br(t)}function Vr(t,e){var r=-1,n=xe(t)?Array(t.length):[];return ze(t,(function(t,o,u){n[++r]=e(t,o,u)})),n}function Rr(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var u=Array(o);++n<o;)u[n]=t[n+e];return u}(t,e,r)}function Jr(t){return t!=t}function Zr(t,e,r){return e==e?function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var o=t.length,u=r+(n?1:-1);n?u--:++u<o;)if(e(t[u],u,t))return u;return-1}(t,Jr,r)}var Gr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Qr="\\ud800-\\udfff",Kr="["+Qr+"]",Xr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tn="\\ud83c[\\udffb-\\udfff]",en="[^"+Qr+"]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",nn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="(?:"+Xr+"|"+tn+")"+"?",un="[\\ufe0e\\ufe0f]?",an=un+on+("(?:\\u200d(?:"+[en,rn,nn].join("|")+")"+un+on+")*"),cn="(?:"+[en+Xr+"?",Xr,rn,nn,Kr].join("|")+")",sn=RegExp(tn+"(?="+tn+")|"+cn+an,"g");function fn(t){return function(t){return Gr.test(t)}(t)?function(t){return t.match(sn)||[]}(t):function(t){return t.split("")}(t)}function ln(t,e,r){if((t=pt(t))&&(r||void 0===e))return mt(t);if(!t||!(e=dt(e)))return t;var n=fn(t),o=fn(e),u=function(t,e){for(var r=-1,n=t.length;++r<n&&Zr(e,t[r],0)>-1;);return r}(n,o),i=function(t,e){for(var r=t.length;r--&&Zr(e,t[r],0)>-1;);return r}(n,o)+1;return Rr(n,u,i).join("")}function hn(t,e){if(!Tt(t))return[];if(!Tt(e))return[];let r=function(t,e){return Tt(t)&&Tt(e)?t.split(e):[]}(t,e);var n,u;u=ln,r=(o(n=r)?st:Vr)(n,qr(u));let i=[];return Te(r,(function(t){Tt(t)&&i.push(t)})),i}function dn(t){if(!Et(t))return!1;return It(t)>=0}function pn(t,e){return Tt(t)&&dn(e)?0===(e=It(e))?t:function(t,e){return Tt(t)&&dn(e)?0===(e=It(e))?"":t.substring(0,e):""}(t,t.length-e):""}function vn(t){return!!n.existsSync(t)&&(!n.lstatSync(t).isDirectory()&&!n.lstatSync(t).isSymbolicLink())}let yn=t.resolve();return async function(o,u){let i=null,a=_t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"funProg");if("win32"!==e.platform)return Promise.reject("operating system is not windows");if(!Tt(o))return Promise.reject("url is not a file");let c="yt-dlp-2024.04.09",s=`${yn}/node_modules/w-dwload-dlp/${c}/`,f=`${yn}/${c}/`;var l;l=s,!n.existsSync(l)||n.lstatSync(l).isFile()||n.lstatSync(l).isSymbolicLink()||(f=s);let h=t.resolve(f,"yt-dlp.exe");h=`"${h}"`;let d=e.cwd(),p=f;e.chdir(p);let v,y=`${function(){if(!Jt(Rt))throw new Error("invalid dayjs");return Rt().format("YYYYMMDDHHmmss")}()}-${Bt(6)}`,b=`${y}`,g=t.resolve(f,"Downloads"),_=t.resolve(g,b),j=t.resolve(g,`${y}.mp4`),$=!1,m=0,w=0,O=0,S=0,M=Jt(a),D=`"${o}" -o "${_}" --newline --merge-output-format "mp4"`;return await function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=_t(n,"cbStdout"),u=_t(n,"cbStderr");function i(t){try{return t.toString("utf8")}catch(t){}return""}return new Promise((function(n,a){let c="",s=r.exec(`${t} ${e}`,((t,e,r)=>{if(t)return a(t);Tt(e=i(e))&&(c+=e),Tt(r=i(r))&&(c+=r)}));s.on("close",(t=>{n(c)})),Jt(o)&&s.stdout.on("data",(function(t){o(t)})),Jt(u)&&s.stderr.on("data",(function(t){u(t)}))}))}(h,D,{cbStdout:t=>{let e=hn(t," "),r=_t(e,1,"");if(!("%"===function(t,e){if(!Tt(t))return"";if(!dn(e))return"";if(0===(e=It(e)))return"";let r=t.length-e;return r<0&&(r=0),t.substr(r,e)}(r,1)))return;let n=pn(r,1);if(n=Yt(n),!$&&100===n)return void($=!0);if(!$)return;if(n*=.99,!(S<n))return;S=n;let o=_t(e,10);o=pn(o,1);let u=hn(o,"/");w=_t(u,0,""),w=Yt(w),w<=m||(O=_t(u,1,""),O=Yt(O),M&&a(S,w,O),m=w)}}).catch((t=>{console.log("execProcess catch",t),i="execProcess error"})),M&&(S=100,a(S,O,O)),e.chdir(d),Tt(i)?Promise.reject(i):vn(j)?(v=function(t,e){try{n.copyFileSync(t,e)}catch(t){return{error:t}}return{success:"done: "+e}}(j,u),i=_t(v,"error"),i?Promise.reject(i.toString()):(v=function(t){if(!n.existsSync(t))return{success:"file does not exist: "+t};if(!vn(t))return{error:"input path is not a file: "+t};try{n.unlinkSync(t)}catch(t){return{error:t}}return{success:"done: "+t}}(j),"ok")):(console.log(`can not find the merged file[${j}]`),i=`invalid url[${o}] or can not download`,Promise.reject(i))}}));
//# sourceMappingURL=w-dwload-dlp.umd.js.map
